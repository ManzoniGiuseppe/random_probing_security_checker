#!/bin/bash

echo "refresh_ring 10 1"
diff <(./exec.sh ../gadgets/refresh_ring.sage 10 1 | grep '^RP[SC]: coeffs of ' ) <(cat << EOF
RPS: coeffs of M0:    0.000000 0.000000 0.000000 1.000000 21.000000 174.000000 736.000000 1779.000000 2748.000000 2895.000000 2148.000000
RPS: coeffs of Mgm:   0.000000 0.000000 0.000000 0.500000 10.500000 100.500000 564.500000 1779.000000 2748.000000 2895.000000 2148.000000
RPC: coeffs of ~M0:   0.000000 0.000000 6.000000 111.000000 702.000000 2177.000000 4293.000000 5997.000000 6243.000000 4947.000000 2992.000000
RPC: coeffs of ~Mgm:   0.000000 0.000000 4.500000 105.000000 702.000000 2177.000000 4293.000000 5997.000000 6243.000000 4947.000000 2992.000000
EOF
)

echo "vrapsPaper_add_v1 6 1"
diff <(./exec.sh ../gadgets/vrapsPaper_add_v1.sage 6 1 | grep '^RP[SC]: coeffs of ' ) <(cat << EOF
RPS: coeffs of M0:    0.000000 0.000000 0.000000 4.000000 186.000000 3978.000000 51842.000000
RPS: coeffs of Mgm:   0.000000 0.000000 0.000000 2.000000 93.000000 2070.000000 29470.000000
RPC: coeffs of ~M0:   0.000000 0.000000 6.000000 264.000000 5661.000000 76118.000000 696667.000000
RPC: coeffs of ~Mgm:   0.000000 0.000000 6.000000 250.000000 5238.000000 71606.000000 680203.000000
EOF
)

echo "vrapsPaper_add_v2 6 1"
diff <(./exec.sh ../gadgets/vrapsPaper_add_v2.sage 6 1 | grep '^RP[SC]: coeffs of ' ) <(cat << EOF
RPS: coeffs of M0:    0.000000 0.000000 0.000000 4.000000 177.000000 3711.000000 48635.000000
RPS: coeffs of Mgm:   0.000000 0.000000 0.000000 2.000000 88.500000 1927.500000 27406.000000
RPC: coeffs of ~M0:   0.000000 0.000000 6.000000 256.000000 5583.000000 77340.000000 720305.000000
RPC: coeffs of ~Mgm:   0.000000 0.000000 6.000000 240.000000 5056.000000 71556.000000 702693.000000
EOF
)

