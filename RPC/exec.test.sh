#!/bin/bash

echo "refresh_ring 10 1"
diff <(./exec.sh ../gadgets/refresh_ring.sage 10 1 | grep '^RP[SC]: coeffs of ' ) <(cat << EOF
RPS: coeffs of M0:    0.000000 0.000000 0.000000 1.000000 21.000000 174.000000 736.000000 1779.000000 2748.000000 2895.000000 2148.000000
RPS: coeffs of Mgm:   0.000000 0.000000 0.000000 0.500000 10.500000 100.500000 564.500000 1779.000000 2748.000000 2895.000000 2148.000000
RPC: coeffs of M0:   0.000000 0.000000 6.000000 111.000000 702.000000 2177.000000 4293.000000 5997.000000 6243.000000 4947.000000 2992.000000
RPC: coeffs of Mgm:   0.000000 0.000000 4.500000 105.000000 702.000000 2177.000000 4293.000000 5997.000000 6243.000000 4947.000000 2992.000000
EOF
)

echo "vrapsPaper_add_v1 6 1"
diff <(./exec.sh ../gadgets/vrapsPaper_add_v1.sage 6 1 | grep '^RP[SC]: coeffs of ' ) <(cat << EOF
RPS: coeffs of M0:    0.000000 0.000000 0.000000 4.000000 186.000000 3978.000000 51842.000000
RPS: coeffs of Mgm:   0.000000 0.000000 0.000000 2.000000 93.000000 2070.000000 29470.000000
RPC: coeffs of M0:   0.000000 0.000000 6.000000 264.000000 5661.000000 76118.000000 696667.000000
RPC: coeffs of Mgm:   0.000000 0.000000 6.000000 250.000000 5238.000000 71606.000000 680203.000000
EOF
)

echo "vrapsPaper_add_v2 6 1"
diff <(./exec.sh ../gadgets/vrapsPaper_add_v2.sage 6 1 | grep '^RP[SC]: coeffs of ' ) <(cat << EOF
RPS: coeffs of M0:    0.000000 0.000000 0.000000 4.000000 177.000000 3711.000000 48635.000000
RPS: coeffs of Mgm:   0.000000 0.000000 0.000000 2.000000 88.500000 1927.500000 27406.000000
RPC: coeffs of M0:   0.000000 0.000000 6.000000 256.000000 5583.000000 77340.000000 720305.000000
RPC: coeffs of Mgm:   0.000000 0.000000 6.000000 240.000000 5056.000000 71556.000000 702693.000000
EOF
)

echo "vrapsPaper_add_v3 6 1"
diff <(./exec.sh ../gadgets/vrapsPaper_add_v3.sage 6 1 | grep '^RP[SC]: coeffs of ' ) <(cat << EOF
RPS: coeffs of M0:    0.000000 0.000000 0.000000 2.000000 78.000000 1497.000000 18757.000000
RPS: coeffs of Mgm:   0.000000 0.000000 0.000000 1.000000 39.000000 777.000000 10496.500000
RPC: coeffs of M0:   0.000000 0.000000 6.000000 224.000000 4423.000000 59776.000000 580731.000000
RPC: coeffs of Mgm:   0.000000 0.000000 6.000000 224.000000 4338.000000 57761.000000 568805.000000
EOF
)

echo "vrapsPaper_add_v4 6 1"
diff <(./exec.sh ../gadgets/vrapsPaper_add_v4.sage 6 1 | grep '^RP[SC]: coeffs of ' ) <(cat << EOF
RPS: coeffs of M0:    0.000000 0.000000 0.000000 2.000000 84.000000 1710.000000 22328.000000
RPS: coeffs of Mgm:   0.000000 0.000000 0.000000 1.000000 42.000000 891.000000 12625.500000
RPC: coeffs of M0:   0.000000 0.000000 6.000000 248.000000 5094.000000 68278.000000 641544.000000
RPC: coeffs of Mgm:   0.000000 0.000000 6.000000 248.000000 5028.000000 66831.500000 634564.500000
EOF
)

echo "add_test_1 6 1"
diff <(./exec.sh ../gadgets/add_test_1.sage 6 1 | grep '^RP[SC]: coeffs of ' ) <(cat << EOF
RPS: coeffs of M0:    0.000000 0.000000 0.000000 4.000000 177.000000 3756.000000 50048.000000
RPS: coeffs of Mgm:   0.000000 0.000000 0.000000 2.000000 88.500000 1950.000000 28216.000000
RPC: coeffs of M0:   0.000000 0.000000 21.000000 715.000000 11875.000000 127660.000000 977348.000000
RPC: coeffs of Mgm:   0.000000 0.000000 21.000000 708.500000 11667.500000 125409.000000 970108.000000
EOF
)

echo "add_test_2 6 1"
diff <(./exec.sh ../gadgets/add_test_2.sage 6 1 | grep '^RP[SC]: coeffs of ' ) <(cat << EOF
RPS: coeffs of M0:    0.000000 0.000000 0.000000 2.000000 70.000000 1198.000000 13362.000000
RPS: coeffs of Mgm:   0.000000 0.000000 0.000000 1.000000 35.000000 618.500000 7382.500000
RPC: coeffs of M0:   0.000000 0.000000 15.000000 516.000000 8552.000000 91404.000000 706681.000000
RPC: coeffs of Mgm:   0.000000 0.000000 13.500000 477.000000 8105.500000 88520.000000 697321.000000
EOF
)

echo "vrapsPaper_copy 10 1"
diff <(./exec.sh ../gadgets/vrapsPaper_copy.sage 10 1 | grep '^RP[SC]: coeffs of ' ) <(cat << EOF
RPS: coeffs of M0:    0.000000 0.000000 0.000000 27.000000 891.000000 13554.000000 126954.000000 826236.000000 4001787.000000 15095134.000000 45820470.000000
RPS: coeffs of Mgm:   0.000000 0.000000 0.000000 13.500000 486.000000 8532.000000 94014.000000 705708.000000 3768507.000000 14908510.000000 45820470.000000
RPC: coeffs of M0:   0.000000 0.000000 33.000000 1137.000000 16812.000000 145288.000000 852472.000000 3732534.000000 12981389.000000 37342867.000000 91195272.000000
RPC: coeffs of Mgm:   0.000000 0.000000 30.000000 1089.000000 16572.000000 144904.000000 852472.000000 3732534.000000 12981389.000000 37342867.000000 91195272.000000
EOF
)
